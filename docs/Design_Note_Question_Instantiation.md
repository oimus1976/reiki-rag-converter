# 条例別カスタマイズ質問セット生成

**設計メモ（Question Instantiation）**

---

## 0. 本メモの位置づけ

本メモは、
**ゴールデン質問セットを起点として、特定の条例に対して実行可能な質問セットを生成する工程**
（以下「条例別カスタマイズ質問セット生成」）について、

* 責務の所在
* 判断してよいこと／してはいけないこと
* 用語の定義
* 他プロジェクトとの境界

を明確化するための**設計メモ**である。

本メモは

* 実装仕様
* アルゴリズム
* UI仕様

を規定するものではない。

---

## 1. 用語定義（日本語正本）

### 1.1 ゴールデン質問セット（Golden Question Pool）

* RAG の能力網羅・評価観点を担保するための
  **抽象的・不変の質問母集団**
* 特定の条例を前提としない
* 改変・削除・具体化は行わない（凍結資産）

---

### 1.2 条例別カスタマイズ質問セット

* **1つの条例（条例ID）に対して**
* ゴールデン質問セットを基に
* 実在する条・項構造を前提として
* **実行可能な質問のみを具体化・整理した質問セット**

これは評価・実行のための**派生的・一時的な実行資産**であり、
ゴールデン質問セットそのものではない。

---

### 1.3 評価観測用条・項（Probe Article / Paragraph）

> **評価観測用条・項**とは、
> HTML と Markdown の入力形式の違いによって
> RAG の検索・引用・到達精度の差が顕在化しやすいかどうかを
> 観測する目的で意図的に選定された条・項である。

* 業務上の疑問
* 利用者の関心
* 条例の重要度や代表性

とは**無関係**である。

---

## 2. 責務定義（最重要）

### 2.1 例規HTML変換プロジェクトの責務

例規HTML変換プロジェクトは、以下の責務を負う。

* ゴールデン質問セットの保持・管理
* 対象条例（条例ID）の **指定**
* 条例構造（条・項・附則有無など）の把握
* **評価観測用条・項という設計思想に基づく入力設計**
* 条例別カスタマイズ質問セットの生成
* 当該質問セットの設計意図・選定理由を説明可能であること

> 条例別カスタマイズ質問セットの生成責務は、
> 例規HTML変換プロジェクトに帰属する。

---

### 2.2 条例IDの扱いについて

条例別カスタマイズ質問セットの生成責務が
例規HTML変換プロジェクトに帰属する以上、

> **当該質問セットの入力として用いられる条例（条例ID）の指定も、
> 同プロジェクトの責務に含まれる。**

ただし、これは以下を**意味しない**。

* 業務的重要性に基づく条例選定
* 意味的価値や代表性の評価
* 利用者ニーズに基づく選択

あくまで、

> HTML と Markdown の差異による
> RAG 応答挙動を観測するための
> **評価対象入力を技術的に指定する行為**

である。

---

### 2.3 AIテスト自動化プロジェクトの責務

AIテスト自動化プロジェクト（gov-llm-e2e-testkit）は、

* 条例ID
* 条例別カスタマイズ質問セット

を **外部入力として受け取り**、

* そのまま実行
* Qommons.AI の応答を一次観測データとして記録

するのみとする。

以下は**一切行わない**。

* 条例の選定
* 質問の選定・削除
* 意味解釈
* 評価・Gate 判定

---

## 3. 条例別カスタマイズ質問セット生成の目的

本工程の目的は、

* 利用者の疑問に答えること
  ではなく、

> **HTML と Markdown の入力差によって
> RAG 応答挙動にどのような差が生じるかを
> 観測・比較可能にすること**

である。

そのため、質問は
「自然な業務質問」である必要はない。

---

## 4. 処理の性質（判断しない設計）

### 4.1 やってよいこと（MUST）

* 抽象表現（第○条）を、**実在する条番号に具体化**
* 第○条第○項を、**存在する条・項の組み合わせに展開**
* 附則が存在しない条例に対して、
  **附則を前提とする質問を除外**
* 除外理由を

  * 構造的理由（附則なし 等）として説明可能にする

---

### 4.2 やってはいけないこと（MUST NOT）

* 条文の意味を読んで「ふさわしい条」を選ぶ
* 条文内容を要約・言い換えて質問文を改変する
* LLM に「重要そうな条」を判断させる
* ゴールデン質問セットそのものを書き換える

本工程は
**選別ではなく成立性チェック**である。

---

## 5. 出力（AIテスト自動化プロジェクトへの提供物）

条例別カスタマイズ質問セットは、最低限以下を含む。

* ordinance_id
* customized_question_set_id
* 質問一覧

  * question_id
  * concrete_question
* （任意）除外された質問と、その構造的理由

評価結果・スコア・判定は**含めない**。

---

## 6. 本設計が防ぐもの

* ゴールデン質問セットの意味的侵食
* LLM による質問最適化・意味解釈の混入
* テスト基盤側への判断責務の流入
* 「なぜこの質問なのか？」という後出し説明地獄

---

## 7. まとめ（一文）

> 条例別カスタマイズ質問セットは、
> ゴールデン質問セットを評価基準として保持したまま、
> 特定の条例を**評価観測用入力として指定**し、
> 実行可能な質問へと具体化するための
> 例規HTML変換プロジェクト固有の設計工程である。

---

以上。
