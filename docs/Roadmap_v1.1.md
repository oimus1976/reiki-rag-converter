# 例規HTML変換プロジェクト Roadmap v1.1

最終更新：2025-12-07  
適用対象：reiki-rag-converter（例規HTML変換エンジン）

---

# 1. 現在位置（2025年12月）

- convert_v2.6 → 安定版（DOM例外処理がほぼ飽和）
- validate_v0.5.3 → 安定。set混入問題など根本対処完了
- synthetic_html_v0.2 → P1〜P15 まで生成成功
- exception_check_v3.2 → 想定パターンをすべて通過
- CI（ci.yml / e2e.yml） → 完全安定（exit code 5 リスクなし）
- 全設計書の体系化が8割完了

プロジェクトは **v2系統の完成が近い状態** に入っている。

---

## 2. 2025年 Q4〜2026年 Q1（短期：v2.7 目標）

**ゴール：v2.7＝「実務レベルでの最終安定版」**

### 必須タスク

- convert_v2.6 → v2.7 への微細調整  
  - 条→章→節→款の深い階層構造テスト  
  - 複雑表組み（P14/P15）最終調整  
- validate の仕様文書更新  
- synthetic_html の最終追加（P16〜P20？）  
- v2.7 設計書（Design_convert_v2.7）を先に作成  
- Roadmap v1.1 → v1.2 の更新  
- 例外処理集（Exception Catalog）作成

### 完了基準

- 全バリエーション synthetic_html が CI 通過  
- DOM例外の取りこぼしゼロ  
- 大規模条例（附則20個以上）で安定変換  
- CI全緑（test 1件以上の保証）継続

---

# 3. 2026年 Q2〜Q3（中期：v2.8 目標）

## ゴール：v2.8＝「機能強化版（中期開発ライン）」

### 新規開発案

- 自動DOM差分検知ツール（HTML→Diff→警告）
- 自動メタデータ修復（制定番号・附則名など）
- convertモジュールの簡易Linter（lint_reiki.py）
- Synthetic HTML 発生器（synthetic_generator_v0.3）  
- “条例100本テスト” の実施

### 文書作成

- Design_convert_v2.8  
- test_plan_v2.8  
- Synthetic HTML Generator 設計書（v0.3）

---

# 4. 2026年 Q4〜2027年 Q1（長期：v3.0 LTS 目標）

## ゴール：v3.0＝「正式版・長期保守（LTS）版」

### 必須項目

- パーサの全面再構築（v3.0）  
  - BeautifulSoup → lxml など高速化を含む  
- LGWAN 展開に向けたモジュール分離（convert_core と io 層の分離）  
- 役場環境での Python 動作保証  
- 将来の条例形式変化への「差分吸収アーキテクチャ」確立  
- LTS用 CHANGELOG / 長期保守ポリシーの作成

### 完了基準

- 制定番号・附則・表組・階層構造すべての最終確定  
- LGWAN環境で完全動作  
- 100本テストを通過  
- すべての設計書が v3 系へ再統合されている

---

# 5. リスクと対策

- **HTMLレイアウトの変更**  
  → 自動DOM差分検知ツール（v2.8で対応）  
- **Pythonバージョンの変更**  
  → v3.0で convert_core を抽象化  
- **LGWAN環境制約**  
  → IO層とCore層を完全分離  
- **例外パターンの取りこぼし**  
  → Synthetic HTML の定期増強  
- **人事異動による属人化リスク**  
  → 全設計書を標準化し、AIプロジェクト標準パッケージ化済み

---

# 6. まとめ：全体ロードマップ

- **v2.6 → v2.7**：微細調整＋例外全集  
- **v2.7 → v2.8**：機能強化ライン（DOM差分検知／100本テスト）  
- **v2.8 → v3.0**：LTS版（LGWAN対応＋全面再構築）

以上を「例規HTML変換プロジェクト」の最新ロードマップとする。
